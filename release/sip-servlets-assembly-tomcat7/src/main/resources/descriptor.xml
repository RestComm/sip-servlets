<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd">
    <id>assembly</id>
    <formats>
        <format>zip</format>
    </formats>
    <baseDirectory>restcomm-sip-servlets-${project.version}-apache-tomcat-${assembly.tomcat7.version}</baseDirectory>
    <fileSets>
        <fileSet>
            <directory>${project.build.directory}/dependency/apache-tomcat-${assembly.tomcat7.version}</directory>
            <outputDirectory>/</outputDirectory>
            <excludes>
                <exclude>bin/*.sh</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/dependency/apache-tomcat-${assembly.tomcat7.version}/bin</directory>
            <outputDirectory>bin</outputDirectory>
            <includes>
                <include>*.sh</include>
            </includes>
            <filtered>true</filtered>
            <fileMode>0755</fileMode>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/dependency/documentation/sip-servlets-docs-${project.version}/html-book</directory>
            <outputDirectory>/docs/restcomm-sip-servlets</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/dependency/documentation/sip-servlets-docs-${project.version}/pdf</directory>
            <outputDirectory>/docs/restcomm-sip-servlets</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/lib</directory>
            <outputDirectory>/lib</outputDirectory>
            <includes>
                <include>*.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>${project.parent.basedir}/../sip-servlets-impl/LICENSES</directory>
            <outputDirectory>/</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
            <excludes>
                <exclude>GPL-LICENSE.TXT</exclude>
            </excludes>
        </fileSet>
    </fileSets>
    <files>
        <file>
            <source>${project.parent.basedir}/resources/TOMCAT-SIP-SERVLETS-README.txt</source>
            <outputDirectory>/</outputDirectory>
        </file>
        <file>
            <source>${project.parent.basedir}/../sip-servlets-examples/websocket-b2bua/websocket-dar.properties</source>
            <outputDirectory>/conf/dars/</outputDirectory>
            <destName>mobicents-dar.properties</destName>
        </file>
        <file>
            <source>${project.parent.basedir}/../sip-servlets-impl/docs/log4j.xml</source>
            <outputDirectory>/lib</outputDirectory>
        </file>
        <file>
            <source>${project.parent.basedir}/../sip-servlets-impl/docs/logging.properties</source>
            <outputDirectory>/conf</outputDirectory>
        </file>
        <file>
            <source>${project.basedir}/src/main/resources/assembly-resources/server-tomcat-7.xml</source>
            <outputDirectory>/conf</outputDirectory>
            <destName>server.xml</destName>
        </file>
        <file>
            <source>${project.parent.basedir}/resources/mss-sip-stack.properties</source>
            <outputDirectory>/conf</outputDirectory>
        </file>
        <file>
            <source>${project.basedir}/src/main/resources/assembly-resources/tomcat7-context-namespaceaware.xml</source>
            <outputDirectory>/conf</outputDirectory>
            <destName>context-namespaceaware.xml.bak</destName>
        </file>
        <file>
            <source>${project.build.directory}/dependency/clicktocall/click-to-call-servlet3.0-${project.version}.war</source>
            <outputDirectory>/webapps</outputDirectory>
            <destName>Click2CallAsync.war</destName>
        </file>
        <file>
            <source>${project.build.directory}/dependency/websocketb2bua/websockets-sip-servlet-${project.version}.war</source>
            <outputDirectory>/webapps</outputDirectory>
            <destName>websockets-sip-servlet.war</destName>
        </file>
        <file>
            <source>${project.build.directory}/dependency/sipservletsmanagement/sip-servlets-management-${project.version}.war</source>
            <outputDirectory>/webapps</outputDirectory>
            <destName>sip-servlets-management.war</destName>
        </file>
        <file>
            <source>${project.build.directory}/dependency/jolokia/jolokia-war-${assembly.jolokia.version}.war</source>
            <outputDirectory>/webapps</outputDirectory>
            <destName>jolokia.war</destName>
        </file>
    </files>
</assembly>